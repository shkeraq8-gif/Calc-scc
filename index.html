<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SSVC0059 Config v2.2</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background: #f2f2f7; padding: 10px; margin: 0; color: #1c1c1e; }
        .card { background: #fff; max-width: 400px; margin: 10px auto; border-radius: 16px; padding: 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
        
        .tabs { display: flex; margin-bottom: 20px; background: #e5e5ea; border-radius: 10px; padding: 3px; }
        .tab-btn { flex: 1; padding: 10px; border: none; background: none; cursor: pointer; color: #8e8e93; font-weight: 600; font-size: 13px; border-radius: 8px; transition: 0.2s; }
        .tab-btn.active { background: #fff; color: #007aff; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        
        .section { display: none; animation: fadeIn 0.3s; }
        .section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        label { display: block; font-size: 11px; color: #8e8e93; margin: 12px 0 4px; text-transform: uppercase; letter-spacing: 0.5px; }
        input { width: 100%; padding: 12px; border: 1px solid #d1d1d6; border-radius: 10px; box-sizing: border-box; font-size: 17px; background: #fff; -webkit-appearance: none; }
        input:focus { border-color: #007aff; outline: none; }

        .res-box { background: #f2f2f7; padding: 15px; border-radius: 12px; text-align: center; margin-top: 20px; transition: all 0.3s; color: #1c1c1e; }
        .res-val { font-size: 32px; font-weight: 800; display: block; margin-top: 5px; font-variant-numeric: tabular-nums; }
        
        table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 14px; }
        td, th { padding: 10px; border-bottom: 1px solid #e5e5ea; text-align: left; }
        th { color: #8e8e93; font-size: 11px; }

        button.action-btn { width: 100%; padding: 15px; background: #007aff; color: #fff; border: none; border-radius: 12px; font-weight: 600; font-size: 16px; cursor: pointer; margin-top: 15px; }
        button.action-btn:active { opacity: 0.7; transform: scale(0.98); }
        
        .row { display: flex; gap: 10px; }
        .col { flex: 1; }
    </style>
</head>
<body>

<div class="card">
    <div class="tabs">
        <button id="b1" class="tab-btn active" onclick="showTab('t1')">ОТБОР</button>
        <button id="b2" class="tab-btn" onclick="showTab('t2')">ЗАМЕР</button>
        <button id="b3" class="tab-btn" onclick="showTab('t3')">ТЭН</button>
        <button id="b4" class="tab-btn" onclick="showTab('t4')">ТАБЛ.</button>
    </div>

    <div id="t1" class="section active">
        <label>Пропускная клапана (мл/сек)</label>
        <input type="text" inputmode="decimal" id="c_cap" placeholder="3.39" oninput="doCalc()">
        <label>Клапан открыт (Ton, сек)</label>
        <input type="text" inputmode="decimal" id="c_ton" placeholder="0.7" oninput="doCalc()">
        <label>Целевой отбор (мл/час)</label>
        <input type="text" inputmode="decimal" id="c_flow" placeholder="1000" oninput="doCalc()">
        <div id="out_box" class="res-box">
            <small>ПЕРИОД (Tp) ДЛЯ SSVC:</small>
            <span id="out_tp" class="res-val">0</span>
        </div>
    </div>

    <div id="t2" class="section">
        <div class="row">
            <div class="col"><label>Ton был (сек)</label><input type="text" inputmode="decimal" id="z_ton" oninput="doZamer()"></div>
            <div class="col"><label>Tp был (сек)</label><input type="text" inputmode="decimal" id="z_tp" oninput="doZamer()"></div>
        </div>
        <div class="row">
            <div class="col"><label>Собрано (мл)</label><input type="text" inputmode="decimal" id="z_ml" oninput="doZamer()"></div>
            <div class="col"><label>Минут замера</label><input type="text" inputmode="decimal" id="z_min" oninput="doZamer()"></div>
        </div>
        <div class="res-box">
            <small>РЕАЛЬНЫЙ CAP (МЛ/СЕК):</small>
            <div id="z_res" class="res-val" style="color:#007aff">0.00</div>
        </div>
        <button class="action-btn" onclick="applyZamer()">Применить результат</button>
    </div>

    <div id="t3" class="section">
        <label>ТЭН номинал (Вт) при 220В</label>
        <input type="text" inputmode="decimal" id="p_n" placeholder="3000" oninput="doPower()">
        <label>Вольт сейчас в розетке</label>
        <input type="text" inputmode="decimal" id="p_v" placeholder="220" on
